{"ast":null,"code":"import _slicedToArray from\"/Users/sashitharan/Documents - Not on iCloud/Coding/2021/react-login-boilerplate/react-login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Form=function Form(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),customerName=_useState2[0],setCustomerName=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),customerAge=_useState4[0],setCustomerAge=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),serviceOfficerName=_useState6[0],setserviceOfficerName=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),NRIC=_useState8[0],setNRIC=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),branchCode=_useState10[0],setBranchCode=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),image=_useState12[0],setImage=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),success=_useState14[0],setSuccess=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),customerNameError=_useState16[0],setCustomerNameError=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),customerAgeError=_useState18[0],setCustomerAgeError=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),serviceOfficerNameError=_useState20[0],setserviceOfficerNameError=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),NRICError=_useState22[0],setNRICError=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),branchCodeError=_useState24[0],setBranchCodeError=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),imageError=_useState26[0],setImageError=_useState26[1];var handleImageUpload=function handleImageUpload(){var fileInput=document.getElementById('image');var filePath=fileInput.value;var allowedExtensions=/(\\.jpeg|\\.png)$/i;if(!allowedExtensions.exec(filePath)){alert('Invalid file type');fileInput.value='';setImageError(true);return false;}else{if(fileInput.files[0].size>2097152){alert('File is too big!');fileInput.value='';setImageError(true);return false;}setImage(fileInput.files[0]);setImageError(false);}};var submit=function submit(e){e.preventDefault();var today=new Date();var time=today.getHours()+':'+today.getMinutes()+':'+today.getSeconds();var dd=String(today.getDate()).padStart(2,'0');var mm=String(today.getMonth()+1).padStart(2,'0');var yyyy=today.getFullYear();today=dd+'/'+mm+'/'+yyyy+' '+time;if(customerName.length===0){setCustomerName(true);}if(serviceOfficerName.length===0){setserviceOfficerName(true);}if(customerName==='admin'){setSuccess(true);}if(customerNameError===false&&customerAgeError===false&&serviceOfficerNameError===false&&NRICError===false&&branchCodeError===false&&imageError===false){var token=JSON.parse(localStorage.getItem('token'));axios.post('',{headers:{Authorization:\"Bearer \".concat(token),'Content-Type':'multipart/form-data'},customerName:customerName,customerAge:customerAge,serviceOfficerName:serviceOfficerName,NRIC:NRIC,branchCode:branchCode,image:image}).then(function(res){setSuccess(true);console.log(res);}).catch(function(err){console.log(err);});}};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:submit,children:[/*#__PURE__*/_jsx(\"h1\",{style:{color:'black'},children:\"Register Customer\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"customerName\",children:\"Customer Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",autoComplete:\"off\",id:\"customerName\",name:\"customerName\",onChange:function onChange(e){setCustomerName(e.target.value);if(customerName.length>=65){setCustomerNameError(true);}else{setCustomerNameError(false);}}}),customerNameError&&/*#__PURE__*/_jsx(\"div\",{className:\"generic-error\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Customer Name must not exceed 64 characters\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"customerAge\",children:\"Customer Age:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",autoComplete:\"off\",id:\"customerAge\",name:\"customerAge\",onChange:function onChange(e){setCustomerAge(e.target.value);if(Number(e.target.value)>=18){setCustomerAgeError(false);}else{setCustomerAgeError(true);}}}),customerAgeError&&/*#__PURE__*/_jsx(\"div\",{className:\"generic-error\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Customers must be at least 18 years of age\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"serviceOfficerName\",children:\"Service Officer Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",autoComplete:\"off\",id:\"serviceOfficerName\",name:\"serviceOfficerName\",onChange:function onChange(e){setserviceOfficerName(e.target.value);if(serviceOfficerName.length>=65){setserviceOfficerNameError(true);}else{setserviceOfficerNameError(false);}}}),serviceOfficerNameError&&/*#__PURE__*/_jsx(\"div\",{className:\"generic-error\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Service Officer Name must not exceed 64 characters.\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"NRIC\",children:\"NRIC:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",autoComplete:\"off\",id:\"NRIC\",name:\"NRIC\",onChange:function onChange(e){setNRIC(e.target.value);if(!e.target.value.match(/^[A-Z]\\d{7}[A-Z]$/)){setNRICError(true);}else{setNRICError(false);}}}),NRICError&&/*#__PURE__*/_jsx(\"div\",{className:\"generic-error\",children:/*#__PURE__*/_jsx(\"p\",{children:\"NRIC must be in uppercase and only have 7 numeric numbers.\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"branchCode\",children:\"Branch Code:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",autoComplete:\"off\",id:\"branchCode\",name:\"branchCode\",onChange:function onChange(e){setBranchCode(e.target.value);if(e.target.value.match(/^\\d{3}$/)){setBranchCodeError(false);}else{setBranchCodeError(true);}}}),branchCodeError&&/*#__PURE__*/_jsx(\"div\",{className:\"generic-error\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Must be a valid branch code number\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"image\",children:\"Image Upload:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",autoComplete:\"off\",id:\"image\",name:\"image\",accept:\"image/*\",onChange:handleImageUpload}),imageError&&/*#__PURE__*/_jsx(\"div\",{className:\"generic-error\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Image attached should be JPEG/PNG format, and should not exceed 2 megabytes.\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"productType\",children:\"Product Type:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"productType\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"137\",children:\"Investor\"}),/*#__PURE__*/_jsx(\"option\",{value:\"070\",children:\"Insurance\"}),/*#__PURE__*/_jsx(\"option\",{value:\"291\",children:\"Loans\"}),/*#__PURE__*/_jsx(\"option\",{value:\"969\",children:\"Savings\"}),/*#__PURE__*/_jsx(\"option\",{value:\"555\",children:\"Credit Cards\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center',marginBottom:'0px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){props.setIsAuthenticated(false);},children:\"Logout\"}),\"\\xA0 \\xA0\",/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})]}),success&&/*#__PURE__*/_jsx(\"div\",{className:\"generic-success\",children:/*#__PURE__*/_jsx(\"p\",{children:\" Form has submitted successfully.\"})})]})});};export default Form;","map":{"version":3,"sources":["/Users/sashitharan/Documents - Not on iCloud/Coding/2021/react-login-boilerplate/react-login/src/components/form.jsx"],"names":["React","useState","axios","Form","props","customerName","setCustomerName","customerAge","setCustomerAge","serviceOfficerName","setserviceOfficerName","NRIC","setNRIC","branchCode","setBranchCode","image","setImage","success","setSuccess","customerNameError","setCustomerNameError","customerAgeError","setCustomerAgeError","serviceOfficerNameError","setserviceOfficerNameError","NRICError","setNRICError","branchCodeError","setBranchCodeError","imageError","setImageError","handleImageUpload","fileInput","document","getElementById","filePath","value","allowedExtensions","exec","alert","files","size","submit","e","preventDefault","today","Date","time","getHours","getMinutes","getSeconds","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","length","token","JSON","parse","localStorage","getItem","post","headers","Authorization","then","res","console","log","catch","err","color","target","Number","match","display","justifyContent","marginBottom","setIsAuthenticated"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport axios from 'axios';\n\nconst Form = (props) => {\n  const [customerName, setCustomerName] = useState('');\n  const [customerAge, setCustomerAge] = useState(0);\n  const [serviceOfficerName, setserviceOfficerName] = useState('');\n  const [NRIC, setNRIC] = useState('');\n  const [branchCode, setBranchCode] = useState('');\n  const [image, setImage] = useState('');\n  const [success, setSuccess] = useState(false);\n\n  const [customerNameError, setCustomerNameError] = useState(false);\n  const [customerAgeError, setCustomerAgeError] = useState(false);\n  const [serviceOfficerNameError, setserviceOfficerNameError] = useState(false);\n  const [NRICError, setNRICError] = useState(false);\n  const [branchCodeError, setBranchCodeError] = useState(false);\n  const [imageError, setImageError] = useState(false);\n\n  const handleImageUpload = () => {\n    let fileInput = document.getElementById('image');\n    let filePath = fileInput.value;\n    let allowedExtensions = /(\\.jpeg|\\.png)$/i;\n    if (!allowedExtensions.exec(filePath)) {\n      alert('Invalid file type');\n      fileInput.value = '';\n      setImageError(true);\n      return false;\n    } else {\n      if (fileInput.files[0].size > 2097152) {\n        alert('File is too big!');\n        fileInput.value = '';\n        setImageError(true);\n        return false;\n      }\n      setImage(fileInput.files[0]);\n      setImageError(false);\n    }\n  };\n\n  const submit = (e) => {\n    e.preventDefault();\n    let today = new Date();\n    let time =\n      today.getHours() + ':' + today.getMinutes() + ':' + today.getSeconds();\n\n    let dd = String(today.getDate()).padStart(2, '0');\n    let mm = String(today.getMonth() + 1).padStart(2, '0');\n    let yyyy = today.getFullYear();\n\n    today = dd + '/' + mm + '/' + yyyy + ' ' + time;\n\n    if (customerName.length === 0) {\n      setCustomerName(true);\n    }\n    if (serviceOfficerName.length === 0) {\n      setserviceOfficerName(true);\n    }\n    if (customerName === 'admin') {\n      setSuccess(true);\n    }\n    if (\n      customerNameError === false &&\n      customerAgeError === false &&\n      serviceOfficerNameError === false &&\n      NRICError === false &&\n      branchCodeError === false &&\n      imageError === false\n    ) {\n      let token = JSON.parse(localStorage.getItem('token'));\n      axios\n        .post('', {\n          headers: {\n            Authorization: `Bearer ${token}`,\n            'Content-Type': 'multipart/form-data',\n          },\n          customerName: customerName,\n          customerAge: customerAge,\n          serviceOfficerName: serviceOfficerName,\n          NRIC: NRIC,\n          branchCode: branchCode,\n          image: image,\n        })\n        .then((res) => {\n          setSuccess(true);\n          console.log(res);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <form onSubmit={submit}>\n        <h1 style={{color: 'black'}}>Register Customer</h1>\n        <div>\n          <label htmlFor=\"customerName\">Customer Name:</label>\n          <input\n            type=\"text\"\n            autoComplete=\"off\"\n            id=\"customerName\"\n            name=\"customerName\"\n            onChange={(e) => {\n              setCustomerName(e.target.value);\n              if (customerName.length >= 65) {\n                setCustomerNameError(true);\n              } else {\n                setCustomerNameError(false);\n              }\n            }}\n          />\n          {customerNameError && (\n            <div className=\"generic-error\">\n              <p>Customer Name must not exceed 64 characters</p>\n            </div>\n          )}\n        </div>\n\n        <div>\n          <label htmlFor=\"customerAge\">Customer Age:</label>\n          <input\n            type=\"number\"\n            autoComplete=\"off\"\n            id=\"customerAge\"\n            name=\"customerAge\"\n            onChange={(e) => {\n              setCustomerAge(e.target.value);\n\n              if (Number(e.target.value) >= 18) {\n                setCustomerAgeError(false);\n              } else {\n                setCustomerAgeError(true);\n              }\n            }}\n          />\n\n          {customerAgeError && (\n            <div className=\"generic-error\">\n              <p>Customers must be at least 18 years of age</p>\n            </div>\n          )}\n        </div>\n        <div>\n          <label htmlFor=\"serviceOfficerName\">Service Officer Name:</label>\n          <input\n            type=\"text\"\n            autoComplete=\"off\"\n            id=\"serviceOfficerName\"\n            name=\"serviceOfficerName\"\n            onChange={(e) => {\n              setserviceOfficerName(e.target.value);\n              if (serviceOfficerName.length >= 65) {\n                setserviceOfficerNameError(true);\n              } else {\n                setserviceOfficerNameError(false);\n              }\n            }}\n          />\n\n          {serviceOfficerNameError && (\n            <div className=\"generic-error\">\n              <p>Service Officer Name must not exceed 64 characters.</p>\n            </div>\n          )}\n        </div>\n        <div>\n          <label htmlFor=\"NRIC\">NRIC:</label>\n          <input\n            type=\"text\"\n            autoComplete=\"off\"\n            id=\"NRIC\"\n            name=\"NRIC\"\n            onChange={(e) => {\n              setNRIC(e.target.value);\n              if (!e.target.value.match(/^[A-Z]\\d{7}[A-Z]$/)) {\n                setNRICError(true);\n              } else {\n                setNRICError(false);\n              }\n            }}\n          />\n\n          {NRICError && (\n            <div className=\"generic-error\">\n              <p>NRIC must be in uppercase and only have 7 numeric numbers.</p>\n            </div>\n          )}\n        </div>\n        <div>\n          <label htmlFor=\"branchCode\">Branch Code:</label>\n          <input\n            type=\"number\"\n            autoComplete=\"off\"\n            id=\"branchCode\"\n            name=\"branchCode\"\n            onChange={(e) => {\n              setBranchCode(e.target.value);\n              if (e.target.value.match(/^\\d{3}$/)) {\n                setBranchCodeError(false);\n              } else {\n                setBranchCodeError(true);\n              }\n            }}\n          />\n\n          {branchCodeError && (\n            <div className=\"generic-error\">\n              <p>Must be a valid branch code number</p>\n            </div>\n          )}\n        </div>\n        <div>\n          <label htmlFor=\"image\">Image Upload:</label>\n          <input\n            type=\"file\"\n            autoComplete=\"off\"\n            id=\"image\"\n            name=\"image\"\n            accept=\"image/*\"\n            onChange={handleImageUpload}\n          />\n          {imageError && (\n            <div className=\"generic-error\">\n              <p>\n                Image attached should be JPEG/PNG format, and should not exceed\n                2 megabytes.\n              </p>\n            </div>\n          )}\n        </div>\n        <div>\n          <label htmlFor=\"productType\">Product Type:</label>\n          <select id=\"productType\">\n            <option value=\"137\">Investor</option>\n            <option value=\"070\">Insurance</option>\n            <option value=\"291\">Loans</option>\n            <option value=\"969\">Savings</option>\n            <option value=\"555\">Credit Cards</option>\n          </select>\n        </div>\n\n        <div\n          style={{\n            display: 'flex',\n            justifyContent: 'center',\n            marginBottom: '0px',\n          }}\n        >\n          <button\n            onClick={() => {\n              props.setIsAuthenticated(false);\n            }}\n          >\n            Logout\n          </button>\n          {/* Non breaking space */}\n          &nbsp;\n           &nbsp;\n          <button type=\"submit\">Submit</button>\n        </div>\n        {success && (\n          <div className=\"generic-success\">\n            <p> Form has submitted successfully.</p>\n          </div>\n        )}\n      </form>\n    </div>\n  );\n};\n\nexport default Form;\n"]},"metadata":{},"sourceType":"module"}